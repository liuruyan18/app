import{u as w,a as D}from"./bilibili-BycNr57l.js";import{d as F,h as g,k as I,i as M,c as m,b as V,F as N,m as T,u as P,p as E,r as i,o as v,a as e,n as H,w as t,f as u,t as _,_ as L}from"./index-D0VcYLgy.js";import"./Security-CC4RzzBi.js";const z={class:"video"},A=["onClick"],R=F({__name:"bilibili",setup(Y){const h=E(),f=w(),S=D(),c=g(),p=g(0);I(()=>{f.getBilibiliData(),c.value.addEventListener("scroll",()=>{p.value=c.value.scrollTop,c.value.scrollHeight-p.value-c.value.clientHeight<1e3&&f.getBilibiliData()})}),M(()=>{c.value.scrollTop=p.value});const y=a=>{const s=Math.floor(a/1e3),l=Math.floor(s/3600),o=s%3600,d=Math.floor(o/60),r=o%60;return`${l.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},b=a=>a>1e4?(a/1e4).toFixed(1)+"w":a,k=a=>{const s=new Date(a),l=s.getFullYear(),o=s.getMonth()+1,d=s.getDate();return`${l}-${o}-${d}`},x=a=>{S.setblibliItem(a),h.push({name:"videodetails"})};return(a,s)=>{const l=i("el-row"),o=i("el-col"),d=i("VideoPlay"),r=i("el-icon"),B=i("Star"),C=i("Film"),$=i("Clock");return v(),m("div",z,[V("div",{class:"video-box",ref_key:"videoBox",ref:c},[(v(!0),m(N,null,T(P(f).datas,n=>(v(),m("div",{class:"video-item",key:n.id,onClick:j=>x(n)},[e(l,{class:"video-image",style:H({background:"url("+n.cover+") no-repeat center / cover"})},null,8,["style"]),e(l,{class:"video-caption"},{default:t(()=>[e(o,{span:24},{default:t(()=>[u(_(n.caption),1)]),_:2},1024)]),_:2},1024),e(l,null,{default:t(()=>[e(o,{class:"video-item-info",span:1},{default:t(()=>[e(r,null,{default:t(()=>[e(d)]),_:1})]),_:1}),e(o,{class:"video-item-info",span:5},{default:t(()=>[u(_(b(n.play_count)),1)]),_:2},1024),e(o,{class:"video-item-info",span:1},{default:t(()=>[e(r,null,{default:t(()=>[e(B)]),_:1})]),_:1}),e(o,{class:"video-item-info",span:5},{default:t(()=>[u(_(b(n.collect_count)),1)]),_:2},1024),e(o,{class:"video-item-info",span:1},{default:t(()=>[e(r,null,{default:t(()=>[e(C)]),_:1})]),_:1}),e(o,{class:"video-item-info",span:5},{default:t(()=>[u(_(y(n.duration)),1)]),_:2},1024),e(o,{class:"video-item-info",span:1},{default:t(()=>[e(r,null,{default:t(()=>[e($)]),_:1})]),_:1}),e(o,{class:"video-item-info",span:5},{default:t(()=>[u(_(k(n.create_time)),1)]),_:2},1024)]),_:2},1024)],8,A))),128))],512)])}}}),K=L(R,[["__scopeId","data-v-fe229f0e"]]);export{K as default};
