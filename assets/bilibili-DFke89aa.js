import{s as u,h as o,p,E as c}from"./index-CXCzEs_M.js";import{u as m,a as d}from"./Security-J1jS0fmJ.js";const n=m(),v=u("bilibili",()=>{const e=o([]),t=o(""),r=o(""),i=p();function s(){t.value=localStorage.getItem("t"),r.value=2,d({method:"post",url:"/api/videos2.php",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{data:n.encrypt(new URLSearchParams({t:t.value,v:r.value}).toString())}}).then(a=>{let l=JSON.parse(n.decrypt(a.data));l.code==1&&e.value.push(...l.data),l.code==3&&(localStorage.removeItem("u"),localStorage.removeItem("t"),c.error(l.msg),i.replace({name:"Me"}))}).catch(a=>{c.error("网络错误")})}return{datas:e,getBilibiliData:s}}),g=u("bilibiliitem",()=>{const e=o({});function t(r){e.value=r}return{item:e,setblibliItem:t}}),f=u("bilibililist",()=>{const e=o([]),t=o("");function r(i){t.value=localStorage.getItem("t"),d({method:"post",url:"/api/videos_recommend.php",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{data:n.encrypt(new URLSearchParams({t:t.value,v:i.category,author:i.author}).toString())}}).then(s=>{let a=JSON.parse(n.decrypt(s.data));a.code==1&&(e.value=a.data),a.code==2&&c.error(a.msg)}).catch(s=>{c.error("网络错误")})}return{datas:e,getBilibiliData:r}});export{g as a,f as b,v as u};
